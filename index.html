<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=1.0, user-scalable=no">
    <!-- API key should be set during deployment -->
    <meta name="nasdaq-api-key" content="J4DWQftvW2EC8noiYB8Y">
    <title data-lang="title">Ultimate Real Estate Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="custom-select.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="budgetCalculator.js"></script>
    <script src="languageDropdown.js"></script>
    <script src="cryptoModal.js"></script>
    <script src="aboutPopup.js"></script>
    <script src="custom-select.js"></script>
    <script src="custom-select-integration.js"></script>
</head>
<body id="page-top">
    <div class="language-selector">
        <span onclick="changeLanguage('en')">English</span> |
        <span onclick="changeLanguage('es')">Espa√±ol</span> |
        <span onclick="changeLanguage('zh')">‰∏≠Êñá</span> |
        <span onclick="changeLanguage('ar')">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</span> |
        <span class="more-languages">
            More ‚ñº
            <div class="language-dropdown" style="display: none; position: absolute; background: rgba(30, 40, 60, 0.95); padding: 10px; border-radius: 8px; margin-top: 5px; z-index: 100; min-width: 180px; box-shadow: 0 4px 12px rgba(0,0,0,0.2);">
                <div class="dropdown-section">
                    <span onclick="changeLanguage('ru')">–†—É—Å—Å–∫–∏–π</span>
                    <span onclick="changeLanguage('pt')">Portugu√™s</span>
                    <span onclick="changeLanguage('fr')">Fran√ßais</span>
                    <span onclick="changeLanguage('it')">Italiano</span>
                    <span onclick="changeLanguage('de')">Deutsch</span>
                    <span onclick="changeLanguage('ja')">Êó•Êú¨Ë™û</span>
                    <span onclick="changeLanguage('sv')">Svenska</span>
                    <span onclick="changeLanguage('ko')">ÌïúÍµ≠Ïñ¥</span>
                </div>
                <div style="height: 1px; background: rgba(255,255,255,0.1); margin: 8px 0;"></div>
                <div class="dropdown-section">
                    <span onclick="document.getElementById('about-overlay').style.display = 'flex'; setTimeout(function() { document.getElementById('about-overlay').style.opacity = '1'; }, 10); closeAllLanguageDropdowns();">
                        <i class="fas fa-info-circle" style="margin-right: 8px;"></i>About
                    </span>
                    <span onclick="window.open('https://baloo8721.github.io/Web3-Real-Estate-Calculator/', '_blank')">
                        <i class="fas fa-calculator" style="margin-right: 8px;"></i>Calculator
                    </span>
                    <span onclick="window.open('https://www.spatial.io/', '_blank'); closeAllLanguageDropdowns();">
                        <i class="fas fa-video" style="margin-right: 8px;"></i>Virtual Office
                    </span>
                    <span onclick="document.getElementById('chatbotButton').click(); closeAllLanguageDropdowns();">
                        <i class="fas fa-robot" style="margin-right: 8px;"></i>Chat A.I.
                    </span>
                    <span onclick="document.getElementById('crypto-overlay').style.display = 'flex'; setTimeout(function() { document.getElementById('crypto-overlay').style.opacity = '1'; }, 10); closeAllLanguageDropdowns();">
                        <i class="fab fa-bitcoin" style="margin-right: 8px;"></i>Learn Crypto
                    </span>
                    <span onclick="document.getElementById('blockchain-overlay').style.display = 'flex'; setTimeout(function() { document.getElementById('blockchain-overlay').style.opacity = '1'; }, 10); closeAllLanguageDropdowns();">
                        <i class="fas fa-link" style="margin-right: 8px;"></i>Blockchain 101
                    </span>
                </div>
            </div>
        </span>
    </div>
    <div class="container">
        <h1 data-lang="title">Ultimate Real Estate Calculator</h1>
        <p class="subtitle" data-lang="subtitle">Calculate Your Mortgage, Sale, Investment, or Crypto Conversion</p>
        <div class="calc-box">
            <div class="calc-tabs">
                <button type="button" class="tab-label active" data-mode="buyer" data-lang="buyer" aria-controls="buyer-mode">Buyer</button>
                <button type="button" class="tab-label" data-mode="seller" data-lang="seller" aria-controls="seller-mode">Seller</button>
                <button type="button" class="tab-label" data-mode="investor" data-lang="investor" aria-controls="investor-mode">Investor/Agent</button>
                <button type="button" class="tab-label" data-mode="crypto" data-lang="crypto" aria-controls="crypto-mode">Crypto</button>
            </div>
            <div class="calc-body" id="calcBody" role="main" aria-live="polite">
                <!-- Buyer Mode -->
                <div class="calc-mode active" id="buyer-mode">
                    <div class="calc-card">
                        <h3 data-lang="buyer_calc">Buyer Calculator</h3>
                        
                        <!-- Budget/Price Section with Slider -->
                        <div id="budget-form-step" class="form-step" style="margin-top: 20px; padding: 15px; border-radius: 8px; position: relative;">
                            <div class="text-sm text-white mb-3">Budget/Price ($)</div>
                            <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; flex-wrap: wrap;">
                                <!-- Left side: Slider and output -->
                                <div style="flex: 1 1 300px; min-width: 250px;">
                                    <input type="range" id="budget" name="budget" min="100000" max="3000000" step="25000" value="300000" class="slider" style="width: 100%; background: linear-gradient(90deg, #26c6da 0%, #64b5f6 50%, #ab47bc 100%); height: 6px; border-radius: 3px; appearance: none; outline: none;" oninput="updateBudgetVisualization(this.value)">
                                    
                                    <div style="display: flex; justify-content: space-between; margin-top: 8px;">
                                        <span style="font-size: 12px; color: #26c6da;">$100k</span>
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <output id="budget-output" for="budget" style="font-size: 18px; font-weight: 600; color: #ffffff; text-shadow: 0 0 10px rgba(38, 198, 218, 0.5); cursor: pointer;" onclick="enableDirectBudgetInput()">$300,000</output>
                                            <input type="text" id="budget-direct-input" style="display: none; font-size: 18px; font-weight: 600; color: #ffffff; background: transparent; border: none; border-bottom: 1px solid #26c6da; width: 120px; text-align: center; outline: none;" onblur="applyDirectBudgetInput()" onkeydown="handleBudgetInputKeydown(event)">
                                            <span style="font-size: 18px; color: #f7931a; font-weight: 600; position: relative;">
                                                <span id="btc-amount" style="cursor: pointer;" title="Click to edit BTC amount" onclick="makeBtcEditable()">‚Çø2.84</span>
                                                <input type="text" id="btc-direct-input" style="display: none; font-size: 18px; font-weight: 600; color: #f7931a; background: transparent; border: none; border-bottom: 1px solid #f7931a; width: 80px; text-align: center; outline: none; position: absolute; top: 0; left: 0;" onblur="applyBtcDirectInput()" onkeydown="if(event.key === 'Enter') { applyBtcDirectInput(); }">
                                            </span>
                                        </div>
                                        <span style="font-size: 12px; color: #ab47bc;">$3M+</span>
                                    </div>
                                    
                                    <!-- Payment Estimate -->
                                    <div id="payment-estimate" style="margin-top: 15px; background-color: rgba(38, 198, 218, 0.1); border-radius: 6px; padding: 10px; border-left: 3px solid #26c6da;">
                                        <div style="position: relative; text-align: center; margin-bottom: 0px;">
                                            <div style="font-size: 14px; color: #ffffff;">Estimated Monthly Payment</div>
                                            <div style="font-size: 12px; color: #a0aec0; text-align: center;">30yr fixed @ 7.0%</div>
                                        </div>
                                        <div style="position: relative; margin-bottom: 10px; margin-top: 5px;">
                                            <div style="display: flex; align-items: center; justify-content: center; width: 100%;">
                                                <span id="type-hint" style="font-size: 12px; color: #a0aec0; margin-right: 5px; opacity: 0.7; cursor: pointer; transition: opacity 0.2s;" title="Click to edit">‚úèÔ∏è</span>
                                                <div id="monthly-payment" style="font-size: 20px; font-weight: 600; color: #26c6da; text-align: center; cursor: pointer;" title="Click to edit monthly payment">$2,532</div>
                                                <span style="font-size: 11px; color: #f7931a; font-weight: 600; position: relative; margin-left: 8px;">
                                                    <span id="sats-amount" style="cursor: pointer;" title="Click to edit Satoshi amount" onclick="makeSatsEditable()">‚Çø2.39M sats</span>
                                                    <input type="text" id="sats-direct-input" style="display: none; font-size: 11px; font-weight: 600; color: #f7931a; background: transparent; border: none; border-bottom: 1px solid #f7931a; width: 80px; text-align: center; outline: none; position: absolute; top: 0; left: 0;" onblur="applySatsDirectInput()" onkeydown="if(event.key === 'Enter') { applySatsDirectInput(); }">
                                                </span>
                                            </div>
                                        </div>
                                        <div id="payment-breakdown" style="margin-top: 0px; font-size: 11px; color: #a0aec0; line-height: 1.3;">
                                            Includes principal & interest, property tax (0.82%), PMI (1%), and insurance. Based on 5% down payment.
                                            <button id="show-details" style="background: none; border: none; color: #26c6da; padding: 0; font-size: 11px; cursor: pointer; text-decoration: underline; display: inline-flex; align-items: center;" onclick="togglePaymentDetails()">
                                                Show details <span id="details-arrow" style="margin-left: 2px;">‚ñº</span>
                                            </button>
                                        </div>
                                        <div id="payment-details" style="display: none; margin-top: 10px; font-size: 11px; color: #a0aec0; background-color: rgba(38, 198, 218, 0.05); padding: 8px; border-radius: 4px;">
                                            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                                <span>Principal & Interest:</span>
                                                <span id="principal-interest">$1,995</span>
                                            </div>
                                            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                                <span>Property Tax (0.82%):</span>
                                                <span id="property-tax">$205</span>
                                            </div>
                                            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                                <span>PMI (1%):</span>
                                                <span id="pmi">$237</span>
                                            </div>
                                            <div style="display: flex; justify-content: space-between;">
                                                <span>Insurance:</span>
                                                <span id="insurance">$95</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Hidden input to store the budget value for form submission -->
                        <input type="hidden" id="buyer-price" value="300000">
                        
                        <!-- Down Payment Section with Slider -->
                        <div id="down-payment-form-step" class="form-step" style="margin-top: 20px; padding: 15px; border-radius: 8px; position: relative;">
                            <div class="text-sm text-white mb-3">Down Payment</div>
                            <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; flex-wrap: wrap;">
                                <!-- Left side: Slider and output -->
                                <div style="flex: 1 1 300px; min-width: 250px;">
                                    <input type="range" id="down-payment-slider" name="down-payment" min="0" max="90" step="0.1" value="3.5" class="slider" style="width: 100%; background: linear-gradient(90deg, #26c6da 0%, #64b5f6 50%, #ab47bc 100%); height: 6px; border-radius: 3px; appearance: none; outline: none;" oninput="updateDownPaymentVisualization(this.value)">
                                    
                                    <div style="display: flex; justify-content: space-between; margin-top: 8px;">
                                        <span style="font-size: 12px; color: #26c6da;">0%</span>
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <output id="down-payment-output" for="down-payment-slider" style="font-size: 18px; font-weight: 600; color: #ffffff; text-shadow: 0 0 10px rgba(38, 198, 218, 0.5); cursor: pointer;" onclick="enableDirectDownPaymentInput()">20%</output>
                                            <input type="text" id="down-payment-direct-input" style="display: none; font-size: 18px; font-weight: 600; color: #ffffff; background: transparent; border: none; border-bottom: 1px solid #26c6da; width: 80px; text-align: center; outline: none;" onblur="applyDirectDownPaymentInput()" onkeydown="handleDownPaymentInputKeydown(event)">
                                            <span style="font-size: 18px; color: #64b5f6; font-weight: 600;">$<span id="down-payment-amount">60,000</span></span>
                                        </div>
                                        <span style="font-size: 12px; color: #ab47bc;">90%</span>
                                    </div>
                                    
                                    <!-- Down Payment Presets -->
                                    <div style="margin-top: 15px; display: flex; flex-wrap: wrap; gap: 8px; justify-content: center;">
                                        <button type="button" class="down-payment-preset active" data-value="3.5" style="background-color: rgba(38, 198, 218, 0.3); border: 1px solid rgba(38, 198, 218, 0.5); border-radius: 4px; padding: 6px 10px; font-size: 12px; color: #ffffff; cursor: pointer; transition: all 0.2s ease;">3.5%</button>
                                        <button type="button" class="down-payment-preset" data-value="5" style="background-color: rgba(38, 198, 218, 0.1); border: 1px solid rgba(38, 198, 218, 0.3); border-radius: 4px; padding: 6px 10px; font-size: 12px; color: #ffffff; cursor: pointer; transition: all 0.2s ease;">5%</button>
                                        <button type="button" class="down-payment-preset" data-value="10" style="background-color: rgba(38, 198, 218, 0.1); border: 1px solid rgba(38, 198, 218, 0.3); border-radius: 4px; padding: 6px 10px; font-size: 12px; color: #ffffff; cursor: pointer; transition: all 0.2s ease;">10%</button>
                                        <button type="button" class="down-payment-preset" data-value="15" style="background-color: rgba(38, 198, 218, 0.1); border: 1px solid rgba(38, 198, 218, 0.3); border-radius: 4px; padding: 6px 10px; font-size: 12px; color: #ffffff; cursor: pointer; transition: all 0.2s ease;">15%</button>
                                        <button type="button" class="down-payment-preset" data-value="20" style="background-color: rgba(38, 198, 218, 0.1); border: 1px solid rgba(38, 198, 218, 0.3); border-radius: 4px; padding: 6px 10px; font-size: 12px; color: #ffffff; cursor: pointer; transition: all 0.2s ease;">20% (No PMI)</button>
                                        <button type="button" class="down-payment-preset" data-value="25" style="background-color: rgba(38, 198, 218, 0.1); border: 1px solid rgba(38, 198, 218, 0.3); border-radius: 4px; padding: 6px 10px; font-size: 12px; color: #ffffff; cursor: pointer; transition: all 0.2s ease;">25%</button>
                                        <button type="button" class="down-payment-preset" data-value="30" style="background-color: rgba(38, 198, 218, 0.1); border: 1px solid rgba(38, 198, 218, 0.3); border-radius: 4px; padding: 6px 10px; font-size: 12px; color: #ffffff; cursor: pointer; transition: all 0.2s ease;">30%</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Hidden inputs to store the down payment values for form submission -->
                        <input type="hidden" id="buyer-down" value="10500">
                        <input type="hidden" id="buyer-down-percent" value="3.5">
                        
                        <!-- Loan Type -->
                        <div class="input-group">
                            <select id="buyer-loan-type" aria-label="Loan Type">
                                <option value="conventional" selected data-lang="conventional">Conventional</option>
                                <option value="fha" data-lang="fha">FHA</option>
                                <option value="va" data-lang="va">VA</option>
                                <option value="usda" data-lang="usda">USDA</option>
                                <option value="arm" data-lang="arm">Adjustable-Rate (ARM)</option>
                            </select>
                            <label for="buyer-loan-type" data-lang="buyer_loan_type">Loan Type</label>
                        </div>
                        
                        <!-- Loan Term with common options -->
                        <div class="input-group">
                            <select id="buyer-term-preset" aria-label="Loan Term Preset">
                                <option value="30" data-lang="years_30">30 Years</option>
                                <option value="20" data-lang="years_20">20 Years</option>
                                <option value="15" data-lang="years_15">15 Years</option>
                                <option value="10" data-lang="years_10">10 Years</option>
                                <option value="7" data-lang="years_7">7/1 ARM</option>
                            </select>
                            <label for="buyer-term-preset" data-lang="buyer_term_preset">Loan Term</label>
                        </div>

                        
                        <!-- Interest Rate with common options -->
                        <div class="input-group">
                            <select id="buyer-rate-preset" aria-label="Interest Rate Preset">
                                <option value="market" selected>Current Market Rate (Term-Based)</option>
                                <option value="3">3.0%</option>
                                <option value="3.5">3.5%</option>
                                <option value="4">4.0%</option>
                                <option value="4.5">4.5%</option>
                                <option value="5">5.0%</option>
                                <option value="5.5">5.5%</option>
                                <option value="6">6.0%</option>
                                <option value="6.5">6.5%</option>
                                <option value="7">7.0%</option>
                                <option value="custom" data-lang="custom_rate">Custom</option>
                            </select>
                            <label for="buyer-rate-preset" data-lang="buyer_rate_preset">Interest Rate</label>
                        </div>
                        <div class="input-group" id="buyer-rate-custom-group" style="display: none;">
                            <input type="number" id="buyer-rate" placeholder="Interest Rate (%)" data-lang="buyer_rate" step="0.1" aria-label="Custom Interest Rate" min="0" max="100" value="5.5">
                            <label for="buyer-rate" data-lang="custom_rate_label">Custom Rate (%)</label>
                        </div>
                        
                        <!-- HOA Fees moved to escrow section -->
                        
                        <!-- PMI-->
                        <div class="input-group">
                            <input type="number" id="buyer-pmi-rate" placeholder="PMI Rate (%)" data-lang="buyer_pmi_rate" aria-label="PMI Rate" min="0" step="0.01" value="0.5">
                            <label for="buyer-pmi-rate" data-lang="buyer_pmi_rate">PMI Rate (%)</label>
                        </div>
                        
                        <!-- Closing Costs -->
                        <div class="input-group">
                            <input type="number" id="buyer-closing-costs" placeholder="Closing Costs ($)" data-lang="buyer_closing_costs" aria-label="Closing Costs" min="0" step="500">
                            <label for="buyer-closing-costs" data-lang="buyer_closing_costs">Closing Costs ($)</label>
                            <a href="https://www.makefloridayourhome.com/florida/down-payment-assistance/mortgage-closing-costs-guide" target="_blank" class="field-info" data-lang="default_closing_costs">Default: 3% of home price (typical for most areas)</a>
                        </div>
                        
                        <!-- Extra Monthly Payment -->
                        <div class="input-group">
                            <input type="number" id="buyer-extra-payment" placeholder="Extra Monthly Payment ($)" data-lang="buyer_extra_payment" aria-label="Extra Monthly Payment" min="0" step="10">
                            <label for="buyer-extra-payment" data-lang="buyer_extra_payment">Extra Monthly Payment ($)</label>
                        </div>
                        
                        <!-- Escrow Account Option -->
                        <div class="checkbox-group">
                            <input type="checkbox" id="buyer-escrow">
                            <label for="buyer-escrow" data-lang="buyer_escrow">Include Taxes & Insurance in Payment (Escrow), HOA/CDD Fees</label>
                        </div>
                        
                        <!-- Escrow Fields Container - Initially Hidden -->
                        <div id="escrow-fields" class="escrow-fields">

                            <!-- Property Taxes -->
                            <div class="input-group">
                                <input type="number" id="buyer-property-tax" placeholder="Annual Property Taxes ($)" data-lang="buyer_property_tax" aria-label="Property Taxes" min="0" step="100">
                                <label for="buyer-property-tax" data-lang="buyer_property_tax">Property Taxes ($/year)</label>
                                <a href="https://smartasset.com/taxes/florida-property-tax-calculator#florida" target="_blank" class="field-info" data-lang="default_property_tax">Default: 0.82% of home value (national average)</a>
                            </div>
                            
                            <!-- Homeowners Insurance -->
                            <div class="input-group">
                                <input type="number" id="buyer-insurance" placeholder="Annual Insurance ($)" data-lang="buyer_insurance" aria-label="Homeowners Insurance" min="0" step="100">
                                <label for="buyer-insurance" data-lang="buyer_insurance">Homeowners Insurance ($/year)</label>
                                <a href="https://www.nerdwallet.com/insurance/homeowners/florida-home-insurance" target="_blank" class="field-info" data-lang="default_insurance">Default: Based on $2,325 per year for $300k home value in FL</a>
                            </div>
                            
                            <!-- HOA Fees -->
                            <div class="input-group">
                                <input type="number" id="buyer-hoa" placeholder="Monthly HOA Fees ($)" data-lang="buyer_hoa" aria-label="HOA Fees" min="0" step="10">
                                <label for="buyer-hoa" data-lang="buyer_hoa">HOA Fees ($/month)</label>
                            </div>
                            
                            <!-- CDD Fees -->
                            <div class="input-group">
                                <input type="number" id="buyer-cdd" placeholder="Monthly CDD Fees ($)" data-lang="buyer_cdd" aria-label="CDD Fees" min="0" step="10">
                                <label for="buyer-cdd" data-lang="buyer_cdd">CDD Fees ($/month)</label>
                            </div>
                        </div>
                        
                        <!-- Affordability Calculator Option -->
                        <div class="checkbox-group">
                            <input type="checkbox" id="affordability-toggle">
                            <label for="affordability-toggle" data-lang="affordability_toggle">Home Affordability Estimator</label>
                        </div>
                        
                        <!-- Affordability Fields Container - Initially Hidden -->
                        <div id="affordability-fields" class="escrow-fields">
                            <!-- Household Income -->
                            <div class="input-group">
                                <input type="number" id="household-income" placeholder="Household Income ($/year)" data-lang="household_income" aria-label="Household Income" min="0" step="1000">
                                <label for="household-income" data-lang="household_income">Household Income ($/year)</label>
                            </div>
                            
                            <!-- Monthly Debt -->
                            <div class="input-group">
                                <input type="number" id="monthly-debt" placeholder="Monthly Debt ($)" data-lang="monthly_debt" aria-label="Monthly Debt" min="0" step="100">
                                <label for="monthly-debt" data-lang="monthly_debt">Monthly Debt ($)</label>
                            </div>
                            
                            <!-- Credit Score -->
                            <div class="input-group">
                                <select id="credit-score" aria-label="Credit Score" data-lang="credit_score">
                                    <option value="below620">Below 620</option>
                                    <option value="620-679">620-679</option>
                                    <option value="680-739">680-739</option>
                                    <option value="740plus" selected>740+</option>
                                </select>
                                <label for="credit-score" data-lang="credit_score">Credit Score</label>
                            </div>
                            
                            <!-- Affordability functionality now integrated with main Calculate button -->
                        </div>
                        
                        <button type="button" class="calc-btn" id="buyer-calc" data-lang="calculate">Calculate</button>
                        <p id="buyer-result" aria-live="polite"></p>
                    </div>
                </div>
                <!-- Seller Mode -->
                <div class="calc-mode" id="seller-mode">
                    <div class="calc-card">
                        <h3 data-lang="seller_calc">Seller Calculator</h3>
                        <div class="input-group">
                            <input type="number" id="seller-price" placeholder="Sale Price ($)" data-lang="seller_price" aria-label="Sale Price" min="0" step="1000">
                            <label for="seller-price" data-lang="seller_price">Sale Price ($)</label>
                        </div>
                        <div class="input-group">
                            <input type="number" id="seller-balance" placeholder="Mortgage Balance ($)" data-lang="seller_balance" aria-label="Mortgage Balance" min="0" step="1000">
                            <label for="seller-balance" data-lang="seller_balance">Mortgage Balance ($)</label>
                        </div>
                        <div class="input-group">
                            <input type="number" id="seller-commission" placeholder="Commission (%)" data-lang="seller_commission" step="0.1" aria-label="Commission" min="0" max="100">
                            <label for="seller-commission" data-lang="seller_commission">Commission (%)</label>
                            <span class="field-info" style="text-decoration: none;">Default: 6% of sale price (avg)</span>
                        </div>
                        <div class="input-group">
                            <input type="number" id="seller-closing" placeholder="Closing Costs ($)" data-lang="seller_closing" aria-label="Closing Costs" min="0" step="1000">
                            <label for="seller-closing" data-lang="seller_closing">Closing Costs ($)</label>
                            <span class="field-info" style="text-decoration: none;">Default: 3% of home price</span>
                        </div>
                        <div class="input-group">
                            <input type="number" id="seller-repairs" placeholder="Repairs ($)" data-lang="seller_repairs" aria-label="Repairs" min="0" step="1000">
                            <label for="seller-repairs" data-lang="seller_repairs">Repairs ($)</label>
                        </div>
                        <button type="button" class="calc-btn" id="seller-calc" data-lang="calculate">Calculate</button>
                        <p id="seller-result" aria-live="polite"></p>
                    </div>
                </div>
                <!-- Investor/Agent Mode -->
                <div class="calc-mode" id="investor-mode">
                    <div class="calc-card">
                        <h3 data-lang="investor_calc">Investor/Agent Calculator</h3>
                        <div class="input-group">
                            <input type="number" id="investor-price" placeholder="Purchase Price ($)" data-lang="investor_price" aria-label="Purchase Price" min="0" step="1000">
                            <label for="investor-price" data-lang="investor_price">Purchase Price ($)</label>
                        </div>
                        <div class="input-group">
                            <input type="number" id="investor-down" placeholder="Down Payment ($)" data-lang="investor_down" aria-label="Down Payment" min="0" step="1000">
                            <label for="investor-down" data-lang="investor_down">Down Payment ($)</label>
                        </div>
                        <div class="input-group">
                            <input type="number" id="investor-term" placeholder="Loan Term (Years)" data-lang="investor_term" aria-label="Loan Term" min="1" step="1">
                            <label for="investor-term" data-lang="investor_term">Loan Term (Years)</label>
                        </div>
                        <div class="input-group">
                            <input type="number" id="investor-rate" placeholder="Interest Rate (%)" data-lang="investor_rate" step="0.1" aria-label="Interest Rate" min="0" max="100">
                            <label for="investor-rate" data-lang="investor_rate">Interest Rate (%)</label>
                        </div>
                        <div class="input-group">
                            <input type="number" id="investor-rental" placeholder="Monthly Rental Income ($)" data-lang="investor_rental" aria-label="Rental Income" min="0" step="100">
                            <label for="investor-rental" data-lang="investor_rental">Monthly Rental Income ($)</label>
                        </div>
                        <div class="input-group">
                            <input type="number" id="investor-expenses" placeholder="Monthly Expenses ($)" data-lang="investor_expenses" aria-label="Expenses" min="0" step="100">
                            <label for="investor-expenses" data-lang="investor_expenses">Monthly Expenses ($)</label>
                        </div>
                        <button type="button" class="calc-btn" id="investor-calc" data-lang="calculate">Calculate</button>
                        <p id="investor-result" aria-live="polite"></p>
                    </div>
                </div>
                <!-- Crypto Mode -->
                <div class="calc-mode" id="crypto-mode">
                    <div class="calc-card">
                        <div class="crypto-header">
                            <h3 data-lang="crypto_calc">Crypto Calculator</h3>
                            <div class="wallet-toggle-wrapper">
                                <div class="wallet-toggle-switch">
                                    <input type="checkbox" id="crypto-wallet-toggle">
                                    <label for="crypto-wallet-toggle" class="wallet-toggle-label">
                                        <span class="wallet-toggle-inner"></span>
                                        <span class="wallet-toggle-switch-calc"><img src="crypto_logo.png" width="28" height="28" alt="Crypto conversion" style="filter: brightness(0) invert(1); vertical-align: middle; margin-top: -2px;"></span>
                                        <span class="wallet-toggle-switch-wallet">Wallet<br><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Crypto calculator view -->
                        <div id="crypto-calculator-view" class="crypto-view active-view">
                            <!-- Separate toggle wrapper outside of input group -->
                            <div class="crypto-toggle-wrapper">
                                <div class="crypto-toggle-switch">
                                    <input type="checkbox" id="crypto-direction-toggle">
                                    <label for="crypto-direction-toggle" class="crypto-toggle-label">
                                        <span class="crypto-toggle-inner"></span>
                                        <span class="crypto-toggle-switch-usd">USD</span>
                                        <span class="crypto-toggle-switch-crypto">Crypto</span>
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Regular input group without toggle inside -->
                            <div class="input-group crypto-input-group">
                                <input type="number" id="crypto-amount" placeholder="Amount ($)" data-lang="crypto_amount" aria-label="Amount" min="0" step="100">
                                <label for="crypto-amount" id="crypto-amount-label" data-lang="crypto_amount">Amount ($)</label>
                            </div>
                            <div class="input-group">
                                <select id="crypto-type" class="crypto-dropdown">
                                    <!-- Options will be populated dynamically by cryptoCalculator.js -->
                                </select>
                                <label for="crypto-type" data-lang="crypto_type">Crypto Type</label>
                            </div>
                            
                            <button type="button" class="calc-btn" id="crypto-calc" data-lang="calculate">Calculate</button>
                            
                            <!-- Crypto calculation results (only visible in calculator view) -->
                            <p id="crypto-result" aria-live="polite"></p>
                        </div>
                        
                        <!-- Wallet search view -->
                        <div id="wallet-search-view" class="crypto-view">
                            <div class="wallet-search-container">
                                <div class="input-group">
                                    <input type="text" id="wallet-address" placeholder="Enter wallet address" data-lang="wallet_address" aria-label="Wallet Address">
                                    <label for="wallet-address" data-lang="wallet_address">Wallet Address</label>
                                </div>
                                <button type="button" class="search-btn" id="wallet-search" data-lang="search_wallet">Search</button>
                                <div id="wallet-search-result" class="wallet-result-container"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="calc-footer">
                <button type="button" class="save-btn" id="saveBtn" data-lang="save_results">Save Results</button>
                <button type="button" class="share-btn" id="shareBtn" data-lang="share_results">Share Results</button>
                <a href="https://baloo8721.github.io/WebRealtorFL-v2/" class="referral-link" data-lang="referral_link">Find an Agent</a>
                
                <div class="tool-button-wrapper" style="margin-top: 20px; width: 100%; height: auto; padding: 20px;">
                    <a href="javascript:void(0)" onclick="document.getElementById('crypto-overlay').style.display = 'flex'; setTimeout(function() { document.getElementById('crypto-overlay').style.opacity = '1'; }, 10);" class="tool-link">
                        <div class="tool-button">
                            <div class="button-glow"></div>
                            <i class="fab fa-bitcoin tool-icon" style="font-size: 34px; color: #f7931a; margin-top: 0; margin-bottom: 0;"></i>
                        </div>
                        <div class="tool-title">Learn Crypto</div>
                        <div class="tool-description">3-minute guide to Bitcoin, Blockchain & Web3</div>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <a href="https://tylerbelisle.kw.com/" target="_blank" class="powered-by" data-lang="footer">Powered by Web3RealtorFL - Bridging Real Estate & Blockchain</a>
        <div style="color: grey; font-size: 12px; text-align: center; padding: 10px; margin-top: 5px;">
            Rates provided by <a href="https://www.mortgagenewsdaily.com/mortgage-rates" style="color: grey;">Mortgage News Daily</a>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
    <!-- jsPDF library for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="cryptoCalculator.js" type="module"></script>
    <script src="walletSearch.js" type="module"></script>
    <script src="script.js?v=20250429"></script>
    <!-- Crypto Popup Overlay -->
    <div id="crypto-overlay" class="about-overlay">
        <div class="about-popup crypto-popup">
            <button id="close-crypto" class="close-button">&times;</button>
            <div class="popup-header">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#f7931a" stroke-width="1.5" style="width: 40px; height: 40px; margin-bottom: 15px;">
                    <circle cx="12" cy="12" r="9" stroke="#f7931a" fill="rgba(247, 147, 26, 0.1)"></circle>
                    <path d="M9.5 10h4.5a2 2 0 0 0 0-4h-2v2h-2.5" stroke="#f7931a" stroke-linecap="round"></path>
                    <path d="M9.5 14h5a2 2 0 0 0 0-4h-5" stroke="#f7931a" stroke-linecap="round"></path>
                    <line x1="12" y1="6" x2="12" y2="18" stroke="#f7931a" stroke-linecap="round"></line>
                </svg>
                <h2>Understanding Cryptocurrency & Blockchain</h2>
            </div>
            <p class="read-time"><i class="far fa-clock"></i> 3 minute read</p>
            <div class="about-content">
                <div class="content-section intro-section">
                    <h3><span class="section-icon">üí∞</span> What is Cryptocurrency?</h3>
                    <p>Cryptocurrency is digital money that uses encryption to secure transactions and control the creation of new units. Unlike traditional currency, it operates independently of central banks and governments.</p>
                    
                    <p>The most well-known cryptocurrency is Bitcoin (‚Çø), created in 2009 by an anonymous person or group using the pseudonym Satoshi Nakamoto. Today, thousands of cryptocurrencies exist, each with different features and purposes.</p>
                </div>
                
                <div class="content-section">
                    <h3><span class="section-icon">üîó</span> How Blockchain Works</h3>
                    <p>Blockchain is the technology that powers cryptocurrencies. Think of it as a digital ledger that records all transactions across a network of computers. Once information is recorded, it cannot be altered without changing all subsequent blocks, making it highly secure.</p>
                    
                    <p>Key features of blockchain include:</p>
                    <ul>
                        <li><strong>Decentralization:</strong> No single entity controls the network</li>
                        <li><strong>Transparency:</strong> All transactions are visible to network participants</li>
                        <li><strong>Immutability:</strong> Once recorded, data cannot be altered</li>
                        <li><strong>Security:</strong> Cryptographic techniques protect the data</li>
                    </ul>
                </div>
                
                <div class="content-section" style="background: linear-gradient(135deg, rgba(247, 147, 26, 0.05), rgba(130, 71, 229, 0.05));">
                    <h3><span class="section-icon">üåê</span> Understanding Web3</h3>
                    <p>Web3 represents the next evolution of the internet, built on decentralized technologies like blockchain. Unlike Web2 (the current internet dominated by centralized platforms), Web3 aims to give users control over their data, digital identity, and online assets.</p>
                    
                    <p>Key components of Web3 include:</p>
                    <ul>
                        <li><strong>Cryptocurrency:</strong> Digital money for the decentralized web</li>
                        <li><strong>Smart Contracts:</strong> Self-executing agreements with rules written in code</li>
                        <li><strong>DApps:</strong> Decentralized applications that run on blockchain networks</li>
                        <li><strong>DAOs:</strong> Decentralized Autonomous Organizations governed by community members</li>
                        <li><strong>NFTs:</strong> Non-Fungible Tokens representing unique digital assets</li>
                    </ul>
                </div>
                
                <div class="content-section">
                    <h3><span class="section-icon">üè†</span> Crypto & Real Estate</h3>
                    <p>The intersection of cryptocurrency and real estate is creating new opportunities for buyers, sellers, and investors:</p>
                    
                    <ul>
                        <li><strong>Property Purchases:</strong> Buying real estate with Bitcoin and other cryptocurrencies</li>
                        <li><strong>Tokenization:</strong> Fractional ownership of properties through blockchain tokens</li>
                        <li><strong>Smart Contracts:</strong> Automating transactions and reducing the need for intermediaries</li>
                        <li><strong>International Transactions:</strong> Facilitating cross-border real estate deals without currency conversion issues</li>
                    </ul>
                </div>
                
                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 30px;">
                    <div style="display: flex; gap: 5px;">
                        
                        <!-- Calculator Button -->
                        <a href="https://baloo8721.github.io/Web3-Real-Estate-Calculator/" target="_blank" style="text-decoration: none; display: flex; flex-direction: column; align-items: center; width: 100px;">
                            <div style="width: 40px; height: 40px; background: rgba(38, 198, 218, 0.1); border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-bottom: 5px;">
                                <i class="fas fa-calculator" style="color: #26c6da; font-size: 18px;"></i>
                            </div>
                            <span style="font-size: 12px; color: #a0aec0; text-align: center;">Crypto Calculator</span>
                        </a>
                        
                        <!-- Learn More Button -->
                        <a href="https://bitcoin.org/" target="_blank" style="text-decoration: none; display: flex; flex-direction: column; align-items: center; width: 100px;">
                            <div style="width: 40px; height: 40px; background: rgba(247, 147, 26, 0.1); border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-bottom: 5px;">
                                <i class="fab fa-bitcoin" style="color: #f7931a; font-size: 18px;"></i>
                            </div>
                            <span style="font-size: 12px; color: #a0aec0; text-align: center;">Learn More</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- About Popup Overlay -->
    <div id="about-overlay" class="about-overlay">
        <div class="about-popup">
            <button id="close-about" class="close-button">&times;</button>
            <div class="popup-header" style="position: relative; z-index: 1;">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#26c6da" stroke-width="1.5" style="width: 40px; height: 40px; margin-bottom: 15px;">
                    <path d="M12 2L2 7l10 5 10-5-10-5z" stroke="#26c6da" fill="rgba(38, 198, 218, 0.1)"></path>
                    <path d="M2 17l10 5 10-5" stroke="#26c6da" stroke-linecap="round"></path>
                    <path d="M2 12l10 5 10-5" stroke="#26c6da" stroke-linecap="round"></path>
                </svg>
                <h2>About Web3RealtorFL</h2>
            </div>
            <div class="about-content">
                <div class="content-section intro-section">
                    <p>Web3RealtorFL connects you with expert real estate agents specializing in your unique needs across Florida. Our platform leverages both human expertise and cutting-edge technology to find your perfect agent match.</p>
                </div>
                
                <div class="content-section">
                    <h3><span class="section-icon">üöÄ</span> Our Mission</h3>
                    <p>To revolutionize real estate agent matching by combining professional human expertise with advanced Web3 technology, ensuring every client finds their ideal agent partner.</p>
                </div>
                
                <div class="content-section">
                    <h3><span class="section-icon">üîÑ</span> How It Works</h3>
                    <div class="steps-container">
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <p>Fill out our simple form with your real estate needs</p>
                        </div>
                        <div class="step-item">
                            <div class="step-number">2</div>
                            <p>Our system matches you with specialized agents</p>
                        </div>
                        <div class="step-item">
                            <div class="step-number">3</div>
                            <p>Connect with your matched agents within 24 hours</p>
                        </div>
                        <div class="step-item">
                            <div class="step-number">4</div>
                            <p>Choose your preferred agent and begin your real estate journey</p>
                        </div>
                    </div>
                </div>
                
                <div class="content-section">
                    <h3><span class="section-icon">üíé</span> What Makes Us Different</h3>
                    <div class="features-grid">
                        <div class="feature-item">
                            <div class="feature-icon">üîç</div>
                            <div class="feature-title">Specialized Matching</div>
                            <p>We connect you with agents who specialize in your specific needs, not just any available agent</p>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">‚Çø</div>
                            <div class="feature-title">Crypto Integration</div>
                            <p>First platform to fully integrate cryptocurrency options for real estate transactions</p>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">ü§ñ</div>
                            <div class="feature-title">AI-Powered</div>
                            <p>Advanced algorithms ensure the most compatible agent matches</p>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">üîí</div>
                            <div class="feature-title">Privacy First</div>
                            <p>Your data is secure and never sold to third parties</p>
                        </div>
                    </div>
                </div>
                
                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 30px;">
                    <div style="display: flex; gap: 5px;">
                        
                        <!-- Calculator Button -->
                        <a href="https://baloo8721.github.io/Web3-Real-Estate-Calculator/" target="_blank" style="text-decoration: none; display: flex; flex-direction: column; align-items: center; width: 100px;">
                            <div style="width: 40px; height: 40px; background: rgba(38, 198, 218, 0.1); border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-bottom: 5px;">
                                <i class="fas fa-calculator" style="color: #26c6da; font-size: 18px;"></i>
                            </div>
                            <span style="font-size: 12px; color: #a0aec0; text-align: center;">Mortgage Calculator</span>
                        </a>
                        
                        <!-- Chat Button -->
                        <a href="javascript:void(0)" onclick="document.getElementById('about-overlay').style.display = 'none'; document.getElementById('about-overlay').style.opacity = '0'; document.getElementById('chatbotButton').click();" style="text-decoration: none; display: flex; flex-direction: column; align-items: center; width: 100px;">
                            <div style="width: 40px; height: 40px; background: rgba(38, 198, 218, 0.1); border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-bottom: 5px;">
                                <i class="fas fa-robot" style="color: #26c6da; font-size: 18px;"></i>
                            </div>
                            <span style="font-size: 12px; color: #a0aec0; text-align: center;">Chat with AI</span>
                        </a>
                    </div>
                    
                    <div>
                        <button onclick="document.getElementById('about-overlay').style.display = 'none'; document.getElementById('about-overlay').style.opacity = '0';" style="background: rgba(38, 198, 218, 0.2); border: 1px solid rgba(38, 198, 218, 0.4); color: #26c6da; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 0.9em; transition: all 0.2s ease;">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>